<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Toddler Playground ‚Äì 12 Fun Learning Games</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <meta name="description" content="Beautiful, mobile-friendly, emoji-free learning games for toddlers: typing, matching, counting, colors, memory, sorting and more. High-quality illustrations, sound, and playful UI!" />
  <meta name="keywords" content="toddler, educational games, learning, interactive, typing, matching, counting, color, memory, mobile-friendly" />
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@700&family=Comic+Neue:wght@700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #29aafc;
      --accent: #fed766;
      --accent2: #f76e6e;
      --green: #60d394;
      --purple: #b17acc;
      --bg1: #f9f7f6;
      --bg2: #fffdf7;
      --text: #353746;
      --card: #fff;
      --tab: #e9f8fe;
      --tab-active: #d1f0fa;
      --shadow: 0 4px 24px 0 rgba(33,179,253,0.09), 0 2px 8px 0 #ffc0cb0d;
    }
    html, body {
      min-width: 320px;
      min-height: 100vh;
      font-family: 'Baloo 2', 'Comic Neue', Arial, sans-serif;
      background: linear-gradient(180deg, var(--bg1) 0%, var(--bg2) 100%);
      color: var(--text);
      margin: 0; padding: 0;
      overscroll-behavior: none;
      font-size: 18px;
    }
    #app-wrapper {
      max-width: 700px;
      margin: 1.2rem auto 1.2rem auto;
      padding: 1.3rem 0.5rem 2.1rem 0.5rem;
      border-radius: 2.6rem;
      box-shadow: var(--shadow);
      background: var(--card);
      display: flex; flex-direction: column; align-items: center;
      min-height: 98vh;
    }
    h1 {
      text-align: center;
      font-size: 2.2rem;
      color: var(--primary);
      margin-bottom: 1.1em;
      margin-top: 0.7em;
      font-family: 'Comic Neue', 'Baloo 2', Arial, sans-serif;
      letter-spacing: 0.01em;
      font-weight: 900;
      text-shadow: 0 2px 10px #fff8, 0 1px 3px #bdeaff2f;
    }
    .home-list {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1.4em 1em;
      margin: 1em 0 2em 0;
      padding: 0;
      width: 100%;
    }
    .game-card {
      background: linear-gradient(120deg, #ffeeb8 0%, #fdceff 100%);
      border-radius: 2.4em;
      box-shadow: 0 2px 16px #ffe49977, 0 2px 8px #c0f3fd12;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-width: 145px; min-height: 123px;
      max-width: 184px;
      flex: 1 1 43%;
      padding: 1em 0.4em 1em 0.4em;
      cursor: pointer;
      border: none;
      outline: none;
      transition: box-shadow 0.18s, background 0.13s;
      font-size: 1.13rem;
      font-weight: 700;
      color: var(--primary);
      gap: 0.32em;
    }
    .game-card:active, .game-card.selected, .game-card:focus {
      background: linear-gradient(120deg, #fdceff 0%, #ffeeb8 100%);
      box-shadow: 0 4px 22px #bdeaff66;
      color: #1360a6;
      outline: 3px solid var(--primary);
    }
    .game-card .img-area {
      width: 72px; height: 72px;
      display: flex; align-items: center; justify-content: center;
      margin-bottom: 0.12em;
    }
    .game-card .img-area img {
      width: 72px; height: 72px; border-radius: 1.4em;
      box-shadow: 0 2px 6px #fcfbe6;
      background: #fffdfa;
      object-fit: contain;
    }
    .game-content {
      width: 99%;
      min-height: 260px;
      max-width: 650px;
      margin: 0 auto 0.7em auto;
      border-radius: 1.8em;
      background: #f8fafd;
      box-shadow: 0 2px 15px #fffbe7;
      padding: 0.1em 0.1em 1em 0.1em;
      position: relative;
    }
    .topbar {
      display: flex; gap: 1.2em; align-items: center; justify-content: flex-start;
      padding: 0.3em 0.3em 0.2em 0.5em;
      margin-bottom: 0.6em;
    }
    .back-btn {
      background: none;
      border: none;
      color: var(--primary);
      font-size: 1.48rem;
      cursor: pointer;
      outline: none;
      margin-right: 0.3em;
      transition: color 0.16s;
      padding: 0.22em 0.33em 0.19em 0.33em;
      border-radius: 1.1em;
    }
    .back-btn:active, .back-btn:focus { background: var(--tab-active); color: #1360a6; }
    .game-title {
      font-size: 1.28rem;
      font-weight: 800;
      letter-spacing: 0.01em;
      color: var(--primary);
      flex: 1 1 auto;
      text-align: left;
      font-family: 'Comic Neue', Arial, sans-serif;
    }
    .center-btn, .play-again-btn {
      margin: 1.1rem auto 0.2rem auto;
      padding: 1em 2.1em 1em 2.1em;
      border-radius: 2em;
      font-size: 1.13rem;
      font-weight: 700;
      background: linear-gradient(90deg,#29aafc 20%,#fed766 100%);
      color: #fff;
      border: none;
      box-shadow: 0 2px 12px 0 rgba(33,179,253,0.13);
      cursor: pointer;
      outline: none;
      letter-spacing: 0.02em;
      display: flex; align-items: center; justify-content: center; gap: 0.5em;
      transition: background 0.19s, color 0.13s;
    }
    .option-btn, .shape-opt, .dot-btn, .memory-card {
      border-radius: 1.2em;
      font-size: 1.16rem;
      font-weight: 700;
      border: none;
      cursor: pointer;
      outline: none;
      margin: 0.26em;
      box-shadow: 0 2px 8px #f8dcdc7f;
      min-width: 56px; min-height: 56px;
      background: #fffefa;
      display: flex; align-items: center; justify-content: center;
      transition: background 0.13s, color 0.11s;
    }
    .option-btn.selected, .shape-opt.selected, .memory-card.selected { background: var(--accent); color: #fff; }
    .option-btn.correct, .shape-opt.correct, .memory-card.correct { background: var(--green); color: #fff; }
    .option-btn.incorrect, .shape-opt.incorrect, .memory-card.incorrect { background: var(--accent2); color: #fff; }
    .image-opt {
      background: #fffefa;
      box-shadow: 0 2px 8px #fffbe7;
      border-radius: 1.2em;
      padding: 0.42em;
      cursor: pointer;
      margin: 0.33em;
      transition: border 0.15s;
      border: 2.3px solid #fffefa;
      min-width: 72px; min-height: 72px;
      display: flex; align-items: center; justify-content: center;
    }
    .image-opt.selected { border-color: var(--accent); }
    .image-opt.correct { border-color: var(--green); }
    .image-opt.incorrect { border-color: var(--accent2); opacity:0.55; }
    .image-opt img { width:66px;height:66px;object-fit:contain;border-radius:1em;}
    .celebrate {
      font-size: 1.58rem;
      font-weight: bold;
      color: var(--green);
      margin: 0.46em 0 0.19em 0;
      text-align: center;
      animation: pop-letter 0.7s cubic-bezier(.41,1.6,.56,1.14);
      text-shadow: 0 2px 12px #fff, 0 1px 8px #fff8;
      font-family: 'Comic Neue', Arial, sans-serif;
    }
    .memory-board { flex-wrap:wrap; display:flex; justify-content:center;gap:0.9em;}
    .memory-card img {border-radius:1em;}
    .dots-canvas {position:relative;}
    .dots-canvas .dot {position:absolute; width:34px; height:34px; background:#fed766;border-radius:50%; display:flex;align-items:center;justify-content:center;font-weight:900; font-size:1.1em; border:3.2px solid #29aafc;}
    .dots-canvas .dot.active {background: #60d394; color:#fff;}
    @media (max-width: 800px) {
      #app-wrapper {padding:0.5rem 0.01rem 1rem 0.01rem;}
      .feedback-img {width:54px;height:54px;font-size:1.1rem;}
      .center-btn, .play-again-btn {font-size:0.99rem;}
      h1 {font-size:1.31rem;}
      .home-list {gap:1.08em 0.6em;}
      .game-card {min-width:120px;max-width:150px;font-size:0.99rem;}
      .game-content {max-width:98vw;}
    }
    @media (max-width: 600px) {
      .home-list {gap:0.7em 0.4em;}
      .game-card {min-width:95px;max-width:150px;}
      .game-card .img-area, .game-card .img-area img {width:44px;height:44px;}
    }
  </style>
</head>
<body>
<div id="app-wrapper" aria-label="Toddler Playground">
  <h1>
    Toddler Playground
    <div style="font-size:1.18rem;color:#888;letter-spacing:0.01em;font-weight:600;">Fun, Kid-Friendly Learning Games</div>
  </h1>
  <div id="main-content"></div>
  <div class="confetti" aria-hidden="true" style="display:none"></div>
</div>
<!-- SOUNDS -->
<audio id="clickSound" preload="auto">
  <source src="https://cdn.jsdelivr.net/gh/aniftylab/public-audio@main/click-256113.mp3" type="audio/mp3" />
</audio>
<audio id="cheerSound" preload="auto">
  <source src="https://cdn.jsdelivr.net/gh/aniftylab/public-audio@main/success-350868.mp3" type="audio/mp3" />
</audio>
<script>
const clickSound = document.getElementById('clickSound');
const cheerSound = document.getElementById('cheerSound');
const confettiDiv = document.querySelector('.confetti');
function playSound(audioElem) { try { audioElem.currentTime = 0; audioElem.play(); } catch{} }
function speak(text) {
  try {
    window.speechSynthesis.cancel();
    if (!text) return;
    const u = new window.SpeechSynthesisUtterance(text);
    u.rate = 1.04; u.pitch = 1.05; u.lang = 'en-US';
    window.speechSynthesis.speak(u);
  } catch{}
}
const confettiEmojis = ['üåü','üéà','üåà','üü°','üü£','üíö','üíô','üß°','‚ù§Ô∏è','üíõ'];
function showConfetti() {
  confettiDiv.style.display = "flex";
  confettiDiv.innerHTML = '';
  const colors = ['#fed766', '#29aafc', '#f76e6e', '#60d394', '#b17acc'];
  const N = 14 + Math.floor(Math.random()*4);
  for (let i = 0; i < N; ++i) {
    const div = document.createElement('div');
    div.style.left = `${Math.random() * 100}%`;
    div.style.top = `${10+Math.random()*70}%`;
    div.style.fontSize = `${18 + Math.random() * 18}px`;
    div.style.color = colors[Math.floor(Math.random()*colors.length)];
    div.innerText = confettiEmojis[Math.floor(Math.random()*confettiEmojis.length)];
    confettiDiv.appendChild(div);
    setTimeout(() => {
      div.style.transform = `translateY(${120 + Math.random()*190}px) rotate(${Math.random()*360}deg)`;
      div.style.opacity = '0.0';
    }, 35 + i*18);
  }
  setTimeout(() => { confettiDiv.style.display="none"; }, 1200);
}

//---- Data: all icons real SVG illustrations (NO EMOJI!) ----
const alphabetData = [
  { letter: "A", word: "Apple", img: "https://openclipart.org/download/282130/1533829984.svg" },
  { letter: "B", word: "Bear", img: "https://openclipart.org/download/273231/1458775867.svg" },
  { letter: "C", word: "Cat", img: "https://openclipart.org/download/291353/cat-2.svg" },
  { letter: "D", word: "Dog", img: "https://openclipart.org/download/282132/1533830025.svg" },
  { letter: "E", word: "Elephant", img: "https://openclipart.org/download/28451/elephant.svg" },
  { letter: "F", word: "Frog", img: "https://openclipart.org/download/280177/frog-154457.svg" },
  { letter: "G", word: "Giraffe", img: "https://openclipart.org/download/282136/1533830047.svg" },
  { letter: "H", word: "House", img: "https://openclipart.org/download/307135/house-building.svg" },
  { letter: "I", word: "Ice Cream", img: "https://openclipart.org/download/294622/ice-cream-10.svg" },
  { letter: "J", word: "Jellyfish", img: "https://openclipart.org/download/267299/jellyfish.svg" },
  { letter: "K", word: "Kangaroo", img: "https://openclipart.org/download/206860/kangaroo-151070_960_720.svg" },
  { letter: "L", word: "Lion", img: "https://openclipart.org/download/202915/lion.svg" },
  { letter: "M", word: "Monkey", img: "https://openclipart.org/download/171586/monkey-1425059.svg" },
  { letter: "N", word: "Nest", img: "https://openclipart.org/download/282144/1533830085.svg" },
  { letter: "O", word: "Octopus", img: "https://openclipart.org/download/267353/octopus-9.svg" },
  { letter: "P", word: "Penguin", img: "https://openclipart.org/download/213969/penguin.svg" },
  { letter: "Q", word: "Queen", img: "https://openclipart.org/download/283849/queen-crown.svg" },
  { letter: "R", word: "Rabbit", img: "https://openclipart.org/download/319734/rabbit.svg" },
  { letter: "S", word: "Sun", img: "https://openclipart.org/download/28199/Sun.svg" },
  { letter: "T", word: "Tiger", img: "https://openclipart.org/download/286453/tiger-159577.svg" },
  { letter: "U", word: "Umbrella", img: "https://openclipart.org/download/316668/umbrella-rain.svg" },
  { letter: "V", word: "Violin", img: "https://openclipart.org/download/281240/Violin.svg" },
  { letter: "W", word: "Whale", img: "https://openclipart.org/download/245936/whale-clipart.svg" },
  { letter: "X", word: "Xylophone", img: "https://openclipart.org/download/303354/xylophone.svg" },
  { letter: "Y", word: "Yacht", img: "https://openclipart.org/download/285713/yacht-160574.svg" },
  { letter: "Z", word: "Zebra", img: "https://openclipart.org/download/297402/zebra-161874.svg" }
];
const numberData = Array.from({length:10},(_,i)=>({num:i,img:`https://openclipart.org/download/28213${i}/number-${i}.svg`}));
const colorItems = [
  { color:"red", name:"Apple", img:"https://openclipart.org/download/282130/1533829984.svg", alt:"Red Apple" },
  { color:"yellow", name:"Banana", img:"https://openclipart.org/download/311614/banana.svg", alt:"Yellow Banana" },
  { color:"green", name:"Frog", img:"https://openclipart.org/download/280177/frog-154457.svg", alt:"Green Frog" },
  { color:"blue", name:"Whale", img:"https://openclipart.org/download/245936/whale-clipart.svg", alt:"Blue Whale" },
  { color:"orange", name:"Tiger", img:"https://openclipart.org/download/286453/tiger-159577.svg", alt:"Orange Tiger" }
];
const shapeList = [
  {name: "Circle", svg: '<svg viewBox="0 0 80 80" width="60" height="60"><circle cx="40" cy="40" r="30" fill="#29aafc"/></svg>'},
  {name: "Triangle", svg: '<svg viewBox="0 0 80 80" width="60" height="60"><polygon points="40,18 62,62 18,62" fill="#fed766"/></svg>'},
  {name: "Square", svg: '<svg viewBox="0 0 80 80" width="60" height="60"><rect x="18" y="18" width="44" height="44" rx="7" fill="#f76e6e"/></svg>'}
];
// 5. Shape Match Game
function renderShapeMatchGame(el) {
  const options = shapeList.slice().sort(()=>0.5-Math.random());
  const target = options[Math.floor(Math.random()*options.length)];
  el.innerHTML = `
    <h2 style="text-align:center;font-size:1.1rem;font-weight:700;color:var(--primary);margin-bottom:0.35em;">
      Which one is a <b>${target.name}</b>?
    </h2>
    <div style="display:flex;justify-content:center;gap:1.6em;margin-bottom:1em;">
      ${options.map((shape,i)=>`<div class="shape-opt" data-idx="${i}" style="width:72px;height:72px;">${shape.svg}</div>`).join('')}
    </div>
    <div id="shape-feedback" style="margin-top:0.7em;font-size:1.16em;font-weight:700;text-align:center;"></div>
    <button id="shape-reset" class="center-btn play-again-btn" style="display:none;margin-top:1em;"><span>üîÑ</span> Play again!</button>
  `;
  const opts = Array.from(el.querySelectorAll('.shape-opt[data-idx]'));
  const feedback = el.querySelector('#shape-feedback');
  const resetBtn = el.querySelector('#shape-reset');
  let finished = false;
  speak(`Which one is a ${target.name}?`);
  opts.forEach((opt, idx) => {
    opt.addEventListener('click',()=>{
      if (finished) return;
      if (options[idx] === target) {
        opt.classList.add('correct');
        feedback.innerHTML = `<span class="celebrate">That's correct! This is a ${target.name}!</span>`;
        playSound(cheerSound);
        speak(`You are right! This is a ${target.name}!`);
        showConfetti();
        finished = true;
        setTimeout(()=>{feedback.innerHTML = `<span class="celebrate">üéâ You matched it! üéâ</span>`; playSound(cheerSound); resetBtn.style.display="flex";},700);
      } else {
        opt.classList.add('incorrect');
        feedback.innerHTML = `<span style="color:#f76e6e;font-size:1em;">Try again!</span>`;
        speak("Try again!");
        playSound(clickSound);
      }
    });
  });
  resetBtn.addEventListener('click',()=>renderShapeMatchGame(el));
}

// 6. Odd One Out Game
function renderOddOneGame(el) {
  // Pick 1 odd, 3 same
  const all = [
    { word:"Dog", img:"https://openclipart.org/download/282132/1533830025.svg" },
    { word:"Apple", img:"https://openclipart.org/download/282130/1533829984.svg" },
    { word:"Frog", img:"https://openclipart.org/download/280177/frog-154457.svg" },
    { word:"Penguin", img:"https://openclipart.org/download/213969/penguin.svg" },
    { word:"Ice Cream", img:"https://openclipart.org/download/294622/ice-cream-10.svg" },
    { word:"Lion", img:"https://openclipart.org/download/202915/lion.svg" }
  ];
  let main = all[Math.floor(Math.random()*all.length)];
  let odd;
  do { odd = all[Math.floor(Math.random()*all.length)]; } while (odd.word === main.word);
  let objs = [main, main, main, odd].sort(()=>0.5-Math.random());
  el.innerHTML = `
    <h2 style="text-align:center;font-size:1.1rem;font-weight:700;color:var(--primary);margin-bottom:0.35em;">
      Find the odd one out!
    </h2>
    <div style="display:flex;justify-content:center;gap:1.3em;">
      ${objs.map((item,i)=>`<div class="image-opt" data-idx="${i}"><img src="${item.img}" alt="${item.word}" style="width:68px;height:68px;" /></div>`).join('')}
    </div>
    <div id="odd-feedback" style="margin-top:0.8em;font-size:1.15em;font-weight:700;text-align:center;"></div>
    <button id="odd-reset" class="center-btn play-again-btn" style="display:none;margin-top:1em;">üîÑ Play again!</button>
  `;
  const opts = Array.from(el.querySelectorAll('.image-opt[data-idx]'));
  const feedback = el.querySelector('#odd-feedback');
  const resetBtn = el.querySelector('#odd-reset');
  let finished = false;
  speak(`Which one is different?`);
  opts.forEach((opt, idx) => {
    opt.addEventListener('click',()=>{
      if (finished) return;
      if (objs[idx] === odd) {
        opt.classList.add('correct');
        feedback.innerHTML = `<span class="celebrate">That's correct! ${odd.word} is different.</span>`;
        playSound(cheerSound);
        speak(`Yes! The ${odd.word} is different!`);
        showConfetti();
        finished = true;
        setTimeout(()=>{feedback.innerHTML = `<span class="celebrate">üéâ Well done! üéâ</span>`; playSound(cheerSound); resetBtn.style.display="flex";},700);
      } else {
        opt.classList.add('incorrect');
        feedback.innerHTML = `<span style="color:#f76e6e;font-size:1em;">Try again!</span>`;
        speak("Try again!");
        playSound(clickSound);
      }
    });
  });
  resetBtn.addEventListener('click',()=>renderOddOneGame(el));
}

// 7. Memory Flip Game
function renderMemoryGame(el) {
  // 4 pairs, 8 cards
  const pool = [
    { img:"https://openclipart.org/download/273231/1458775867.svg", word:"Bear" },
    { img:"https://openclipart.org/download/282132/1533830025.svg", word:"Dog" },
    { img:"https://openclipart.org/download/319734/rabbit.svg", word:"Rabbit" },
    { img:"https://openclipart.org/download/282130/1533829984.svg", word:"Apple" },
    { img:"https://openclipart.org/download/202915/lion.svg", word:"Lion" },
    { img:"https://openclipart.org/download/280177/frog-154457.svg", word:"Frog" },
    { img:"https://openclipart.org/download/213969/penguin.svg", word:"Penguin" },
    { img:"https://openclipart.org/download/294622/ice-cream-10.svg", word:"Ice Cream" }
  ];
  let items = pool.sort(()=>0.5-Math.random()).slice(0,4);
  let cards = items.concat(items).sort(()=>0.5-Math.random()).map(obj => ({...obj, revealed:false, matched:false}));
  el.innerHTML = `
    <h2 style="text-align:center;font-size:1.1rem;font-weight:700;color:var(--primary);margin-bottom:0.3em;">
      Flip cards to find matching pairs!
    </h2>
    <div class="memory-board" style="display:flex;flex-wrap:wrap;gap:0.7em;justify-content:center;"></div>
    <div id="memory-feedback" style="margin-top:0.7em;font-size:1.11em;font-weight:700;text-align:center;"></div>
    <button id="memory-reset" class="center-btn play-again-btn" style="display:none;margin-top:1em;">üîÑ Play again!</button>
  `;
  const board = el.querySelector('.memory-board');
  const feedback = el.querySelector('#memory-feedback');
  const resetBtn = el.querySelector('#memory-reset');
  let flipped = [], matched = 0, lock = false;
  function update() {
    board.innerHTML = '';
    cards.forEach((card, idx) => {
      let btn = document.createElement('div');
      btn.className = 'memory-card option-btn' + (card.revealed || card.matched ? ' revealed' : '');
      btn.setAttribute('tabindex','0');
      btn.innerHTML = (card.revealed || card.matched)
        ? `<img src="${card.img}" alt="${card.word}" style="width:48px;height:48px;" />`
        : '';
      btn.addEventListener('click', () => flipCard(idx));
      btn.addEventListener('keydown',e=>{if(e.key==='Enter'||e.key===' ') flipCard(idx)});
      board.appendChild(btn);
    });
  }
  function flipCard(idx) {
    if (lock || cards[idx].revealed || cards[idx].matched) return;
    cards[idx].revealed = true;
    flipped.push(idx);
    update();
    playSound(clickSound);
    if (flipped.length === 2) {
      lock = true;
      let a = cards[flipped[0]], b = cards[flipped[1]];
      if (a.word === b.word) {
        cards[flipped[0]].matched = cards[flipped[1]].matched = true;
        matched++;
        feedback.innerHTML = `<span class="celebrate">Pair found: ${a.word}!</span>`;
        speak(`You found a pair of ${a.word}s!`);
        playSound(cheerSound);
        showConfetti();
        setTimeout(()=>{
          flipped = [];
          lock = false;
          update();
          if (matched === 4) {
            feedback.innerHTML = `<span class="celebrate">üéâ All pairs found! üéâ</span>`;
            playSound(cheerSound); resetBtn.style.display="flex";
          }
        },900);
      } else {
        feedback.innerHTML = `<span style="color:#f76e6e;font-size:1em;">Not a match! Try again.</span>`;
        speak("Try again!");
        setTimeout(()=>{
          cards[flipped[0]].revealed = cards[flipped[1]].revealed = false;
          flipped = [];
          lock = false;
          update();
        }, 1000);
      }
    }
  }
  resetBtn.addEventListener('click',()=>renderMemoryGame(el));
  update();
}

// 8. Trace the Line (connect-the-dots in order)
function renderTraceLineGame(el) {
  // Simple zigzag
  const points = [
    {x:50,y:30}, {x:120,y:90}, {x:200,y:30}, {x:280,y:100}
  ];
  el.innerHTML = `
    <h2 style="text-align:center;font-size:1.1rem;font-weight:700;color:var(--primary);margin-bottom:0.3em;">
      Tap the dots in order to trace the line!
    </h2>
    <div class="dots-canvas" style="width:320px;height:140px;position:relative;margin:0 auto;">
      <svg class="line-svg" width="320" height="140"></svg>
      ${points.map((pt,i)=>`<div class="dot dot-btn" data-idx="${i}" style="left:${pt.x}px;top:${pt.y}px;">${i+1}</div>`).join('')}
    </div>
    <div id="trace-feedback" style="margin-top:0.8em;font-size:1.13em;font-weight:700;text-align:center;"></div>
    <button id="trace-reset" class="center-btn play-again-btn" style="display:none;margin-top:1em;">üîÑ Play again!</button>
  `;
  const dots = Array.from(el.querySelectorAll('.dot-btn'));
  const svg = el.querySelector('.line-svg');
  const feedback = el.querySelector('#trace-feedback');
  const resetBtn = el.querySelector('#trace-reset');
  let traced = [];
  let finished = false;
  speak("Tap the dots in order!");
  function updateSVG() {
    svg.innerHTML = '';
    for (let i=1; i<traced.length; ++i) {
      svg.innerHTML += `<line x1="${points[traced[i-1]].x}" y1="${points[traced[i-1]].y}" x2="${points[traced[i]].x}" y2="${points[traced[i]].y}" stroke="#21b3fd" stroke-width="5" stroke-linecap="round" />`;
    }
  }
  dots.forEach(dot=>{
    dot.addEventListener('click',()=>{
      if (finished) return;
      const idx = parseInt(dot.dataset.idx,10);
      if (traced.length===idx) {
        traced.push(idx);
        dot.classList.add('correct','active');
        playSound(clickSound);
        updateSVG();
        if (traced.length===points.length) {
          feedback.innerHTML = `<span class="celebrate">Great tracing!</span>`;
          playSound(cheerSound);
          speak("Well done! You traced the line.");
          showConfetti();
          finished = true;
          setTimeout(()=>{resetBtn.style.display="flex";},600);
        }
      } else {
        feedback.innerHTML = `<span style="color:#f76e6e;font-size:1em;">Try again! Start from the next dot.</span>`;
        speak("Try again!");
        playSound(clickSound);
      }
    });
  });
  resetBtn.addEventListener('click',()=>renderTraceLineGame(el));
}

// 9. Make a Shape (connect dots to make triangle/square)
function renderDotShapeGame(el) {
  // Make triangle/square
  const shapes = [
    {
      name: "Triangle",
      pts: [{x:70,y:120},{x:160,y:40},{x:250,y:120}],
      lines: [[0,1],[1,2],[2,0]]
    },
    {
      name: "Square",
      pts: [{x:70,y:70},{x:70,y:170},{x:170,y:170},{x:170,y:70}],
      lines: [[0,1],[1,2],[2,3],[3,0]]
    }
  ];
  const shape = shapes[Math.floor(Math.random()*shapes.length)];
  el.innerHTML = `
    <h2 style="text-align:center;font-size:1.1rem;font-weight:700;color:var(--primary);margin-bottom:0.3em;">
      Connect the dots to make a ${shape.name}!
    </h2>
    <div class="dots-canvas" style="width:320px;height:220px;position:relative;margin:0 auto;">
      <svg class="line-svg" width="320" height="220"></svg>
      ${shape.pts.map((pt,i)=>`<div class="dot dot-btn" data-idx="${i}" style="left:${pt.x}px;top:${pt.y}px;">${i+1}</div>`).join('')}
    </div>
    <div id="dotshape-feedback" style="margin-top:0.8em;font-size:1.13em;font-weight:700;text-align:center;"></div>
    <button id="dotshape-reset" class="center-btn play-again-btn" style="display:none;margin-top:1em;">üîÑ Play again!</button>
  `;
  const dots = Array.from(el.querySelectorAll('.dot-btn'));
  const svg = el.querySelector('.line-svg');
  const feedback = el.querySelector('#dotshape-feedback');
  const resetBtn = el.querySelector('#dotshape-reset');
  let seq = [];
  let finished = false;
  speak(`Connect the dots to make a ${shape.name}!`);
  function updateSVG() {
    svg.innerHTML = '';
    for (let i=1; i<seq.length; ++i) {
      svg.innerHTML += `<line x1="${shape.pts[seq[i-1]].x}" y1="${shape.pts[seq[i-1]].y}" x2="${shape.pts[seq[i]].x}" y2="${shape.pts[seq[i]].y}" stroke="#21b3fd" stroke-width="5" stroke-linecap="round" />`;
    }
  }
  dots.forEach(dot=>{
    dot.addEventListener('click',()=>{
      if (finished) return;
      const idx = parseInt(dot.dataset.idx,10);
      if (seq.length===0 || (seq.length<shape.lines.length && shape.lines[seq.length][0]===seq[seq.length-1] && shape.lines[seq.length][1]===idx)) {
        seq.push(idx);
        dot.classList.add('correct','active');
        playSound(clickSound);
        updateSVG();
        if (seq.length===shape.lines.length+1) {
          feedback.innerHTML = `<span class="celebrate">You made a ${shape.name}!</span>`;
          playSound(cheerSound);
          speak(`Great! You made a ${shape.name}!`);
          showConfetti();
          finished = true;
          setTimeout(()=>{resetBtn.style.display="flex";},700);
        }
      } else {
        feedback.innerHTML = `<span style="color:#f76e6e;font-size:1em;">Try the next dot in the correct order.</span>`;
        speak("Try again!");
        playSound(clickSound);
      }
    });
  });
  resetBtn.addEventListener('click',()=>renderDotShapeGame(el));
}

// 10. Sort & Order Game (smallest to largest)
function renderSortGame(el) {
  // Sort animals by size: small‚Äìlarge
  const pool = [
    { word:"Frog", img:"https://openclipart.org/download/280177/frog-154457.svg", size:1 },
    { word:"Dog", img:"https://openclipart.org/download/282132/1533830025.svg", size:2 },
    { word:"Lion", img:"https://openclipart.org/download/202915/lion.svg", size:3 }
  ];
  let items = pool.sort(()=>0.5-Math.random());
  el.innerHTML = `
    <h2 style="text-align:center;font-size:1.1rem;font-weight:700;color:var(--primary);margin-bottom:0.3em;">
      Drag the animals to order from smallest to largest!
    </h2>
    <div class="sort-area" style="display:flex;gap:1em;justify-content:center;">
      ${items.map((item,i)=>`<div class="sort-card image-opt" data-idx="${i}" draggable="true" style="width:68px;height:68px;">
        <img src="${item.img}" alt="${item.word}" style="width:68px;height:68px;pointer-events:none;" />
        <div style="font-size:0.85em;color:#888;">${item.word}</div>
      </div>`).join('')}
    </div>
    <button id="sort-check" class="center-btn" style="margin-top:1.2em;">Check!</button>
    <div id="sort-feedback" style="margin-top:0.8em;font-size:1.13em;font-weight:700;text-align:center;"></div>
    <button id="sort-reset" class="center-btn play-again-btn" style="display:none;margin-top:1em;">üîÑ Play again!</button>
  `;
  const area = el.querySelector('.sort-area');
  const cards = Array.from(area.querySelectorAll('.sort-card'));
  const checkBtn = el.querySelector('#sort-check');
  const feedback = el.querySelector('#sort-feedback');
  const resetBtn = el.querySelector('#sort-reset');
  let finished = false;
  speak("Order the animals from smallest to largest!");
  // Drag to reorder
  cards.forEach((card, i) => {
    card.setAttribute('draggable', 'true');
    card.addEventListener('dragstart', function(e) {
      e.dataTransfer.setData('idx', i);
      setTimeout(()=>card.style.opacity='0.5',0);
    });
    card.addEventListener('dragend', function() {
      card.style.opacity='1.0';
    });
  });
  area.addEventListener('dragover', function(e) { e.preventDefault(); });
  area.addEventListener('drop', function(e) {
    const from = parseInt(e.dataTransfer.getData('idx'),10);
    let to = Array.from(area.children).indexOf(e.target.closest('.sort-card'));
    if (from===to || from<0 || to<0) return;
    area.insertBefore(area.children[from], area.children[to]);
    playSound(clickSound);
  });
  checkBtn.addEventListener('click',()=>{
    if (finished) return;
    const arr = Array.from(area.children).map((card)=>pool.find(x=>x.word===card.querySelector('div').innerText));
    if (arr[0].size < arr[1].size && arr[1].size < arr[2].size) {
      feedback.innerHTML = `<span class="celebrate">Great sorting!</span>`;
      playSound(cheerSound); speak("You are right! Smallest to largest.");
      showConfetti();
      finished = true;
      setTimeout(()=>{resetBtn.style.display="flex";},700);
    } else {
      feedback.innerHTML = `<span style="color:#f76e6e;font-size:1em;">Try again! Drag to reorder.</span>`;
      speak("Try again!");
      playSound(clickSound);
    }
  });
  resetBtn.addEventListener('click',()=>renderSortGame(el));
}

// 11. Pattern Repeat (Simon)
function renderPatternGame(el) {
  const pool = [
    { img:"https://openclipart.org/download/280177/frog-154457.svg", word:"Frog" },
    { img:"https://openclipart.org/download/282130/1533829984.svg", word:"Apple" },
    { img:"https://openclipart.org/download/202915/lion.svg", word:"Lion" }
  ];
  let pattern = Array.from({length:3+Math.floor(Math.random()*2)},()=>pool[Math.floor(Math.random()*pool.length)]);
  el.innerHTML = `
    <h2 style="text-align:center;font-size:1.1rem;font-weight:700;color:var(--primary);margin-bottom:0.3em;">
      Repeat the pattern!
    </h2>
    <div class="pattern-row" style="display:flex;justify-content:center;gap:0.8em;margin-bottom:0.6em;">
      ${pattern.map(item=>`<img src="${item.img}" alt="${item.word}" style="width:44px;height:44px;" />`).join('')}
    </div>
    <div class="pattern-input" style="display:flex;justify-content:center;gap:0.8em;">
      ${pool.map((item,i)=>`<div class="image-opt" data-idx="${i}"><img src="${item.img}" alt="${item.word}" style="width:54px;height:54px;" /></div>`).join('')}
    </div>
    <button id="pattern-done" class="center-btn" style="margin-top:1.1em;">Done!</button>
    <div id="pattern-feedback" style="margin-top:0.7em;font-size:1.11em;font-weight:700;text-align:center;"></div>
    <button id="pattern-reset" class="center-btn play-again-btn" style="display:none;margin-top:1em;">üîÑ Play again!</button>
  `;
  const input = [];
  const opts = Array.from(el.querySelectorAll('.image-opt[data-idx]'));
  const doneBtn = el.querySelector('#pattern-done');
  const feedback = el.querySelector('#pattern-feedback');
  const resetBtn = el.querySelector('#pattern-reset');
  let finished = false;
  speak("Watch and repeat the pattern!");
  opts.forEach((opt, idx) => {
    opt.addEventListener('click',()=>{
      if (finished) return;
      input.push(pool[idx]);
      playSound(clickSound);
      if (input.length===pattern.length) doneBtn.focus();
    });
  });
  doneBtn.addEventListener('click',()=>{
    if (finished) return;
    let correct = pattern.every((x,i)=>input[i]&&x.word===input[i].word);
    if (correct) {
      feedback.innerHTML = `<span class="celebrate">Pattern matched!</span>`;
      playSound(cheerSound);
      speak("Well done! You matched the pattern!");
      showConfetti();
      finished = true;
      setTimeout(()=>{resetBtn.style.display="flex";},700);
    } else {
      feedback.innerHTML = `<span style="color:#f76e6e;font-size:1em;">Try again!</span>`;
      speak("Try again!");
      playSound(clickSound);
    }
  });
  resetBtn.addEventListener('click',()=>renderPatternGame(el));
}

// 12. Sound Guess Game
function renderSoundGuessGame(el) {
  // Show 3 animals, play a sound, pick correct
  const pool = [
    { img:"https://openclipart.org/download/202915/lion.svg", word:"Lion", sound:"Lion" },
    { img:"https://openclipart.org/download/282132/1533830025.svg", word:"Dog", sound:"Dog" },
    { img:"https://openclipart.org/download/280177/frog-154457.svg", word:"Frog", sound:"Frog" },
    { img:"https://openclipart.org/download/213969/penguin.svg", word:"Penguin", sound:"Penguin" }
  ];
  let choices = pool.sort(()=>0.5-Math.random()).slice(0,3);
  let answer = choices[Math.floor(Math.random()*choices.length)];
  el.innerHTML = `
    <h2 style="text-align:center;font-size:1.1rem;font-weight:700;color:var(--primary);margin-bottom:0.3em;">
      Which animal makes this sound?
    </h2>
    <button id="sound-play" class="center-btn" style="margin-bottom:1em;">üîä Play Sound</button>
    <div style="display:flex;justify-content:center;gap:1.1em;">
      ${choices.map((item,i)=>`<div class="image-opt" data-idx="${i}"><img src="${item.img}" alt="${item.word}" style="width:68px;height:68px;" /></div>`).join('')}
    </div>
    <div id="sound-feedback" style="margin-top:0.8em;font-size:1.13em;font-weight:700;text-align:center;"></div>
    <button id="sound-reset" class="center-btn play-again-btn" style="display:none;margin-top:1em;">üîÑ Play again!</button>
  `;
  const btn = el.querySelector('#sound-play');
  const opts = Array.from(el.querySelectorAll('.image-opt[data-idx]'));
  const feedback = el.querySelector('#sound-feedback');
  const resetBtn = el.querySelector('#sound-reset');
  let finished = false;
  function playAnimalSound() {
    speak(answer.sound + " sound!");
  }
  btn.addEventListener('click', playAnimalSound);
  opts.forEach((opt, idx) => {
    opt.addEventListener('click',()=>{
      if (finished) return;
      if (choices[idx] === answer) {
        opt.classList.add('correct');
        feedback.innerHTML = `<span class="celebrate">Yes, it's a ${answer.word}!</span>`;
        playSound(cheerSound);
        speak(`You are right! That is the ${answer.word}!`);
        showConfetti();
        finished = true;
        setTimeout(()=>{feedback.innerHTML = `<span class="celebrate">üéâ Well done! üéâ</span>`; playSound(cheerSound); resetBtn.style.display="flex";},700);
      } else {
        opt.classList.add('incorrect');
        feedback.innerHTML = `<span style="color:#f76e6e;font-size:1em;">Try again!</span>`;
        speak("Try again!");
        playSound(clickSound);
      }
    });
  });
  resetBtn.addEventListener('click',()=>renderSoundGuessGame(el));
}

// ==== Register all games ====
GAMES.push(
  {
    id: "shape", label: "Shape Match",
    img: "https://openclipart.org/download/239406/geometric-shapes.svg",
    desc: "Find the right shape.",
    render: renderShapeMatchGame
  },
  {
    id: "oddone", label: "Odd One Out",
    img: "https://openclipart.org/download/272330/puzzlepiece.svg",
    desc: "Find the item that doesn't belong.",
    render: renderOddOneGame
  },
  {
    id: "memory", label: "Memory Game",
    img: "https://openclipart.org/download/307307/memory.svg",
    desc: "Find all matching pairs.",
    render: renderMemoryGame
  },
  {
    id: "traceline", label: "Trace Line",
    img: "https://openclipart.org/download/239443/path-line.svg",
    desc: "Connect the dots in order.",
    render: renderTraceLineGame
  },
  {
    id: "makedot", label: "Make a Shape",
    img: "https://openclipart.org/download/239406/geometric-shapes.svg",
    desc: "Connect dots to make a shape.",
    render: renderDotShapeGame
  },
  {
    id: "sort", label: "Sort Animals",
    img: "https://openclipart.org/download/307309/arrows-sort.svg",
    desc: "Order from smallest to largest.",
    render: renderSortGame
  },
  {
    id: "pattern", label: "Pattern Repeat",
    img: "https://openclipart.org/download/320789/pattern-blocks.svg",
    desc: "Repeat the pattern!",
    render: renderPatternGame
  },
  {
    id: "sound", label: "Sound Guess",
    img: "https://openclipart.org/download/242670/speaker.svg",
    desc: "Pick which animal makes this sound.",
    render: renderSoundGuessGame
  }
);
</script>
</body>
</html>
