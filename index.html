<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Toddler Playground – 12 Learning Games</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <meta name="description" content="12 beautiful, mobile-friendly learning games for toddlers: typing, matching, counting, color, shape, memory, sorting, drawing and more. Polished UI, voice feedback, and SVG images!" />
  <meta name="keywords" content="toddler, educational games, learning, interactive, typing, matching, counting, color, shape, memory, mobile-friendly, openmoji" />
  <meta name="robots" content="index, follow" />
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #21b3fd;
      --accent: #f9b846;
      --accent2: #fb6d6d;
      --green: #60d394;
      --purple: #ad9aff;
      --bg1: #e7f6fe;
      --bg2: #fffaf4;
      --text: #28344c;
      --card: #fff;
      --tab: #f1f9fd;
      --tab-active: #bdeaff;
      --shadow: 0 4px 24px 0 rgba(33,179,253,0.09), 0 2px 8px 0 #ffc0cb0d;
    }
    html, body {
      min-width: 320px;
      min-height: 100vh;
      font-family: 'Baloo 2', Arial, sans-serif;
      background: linear-gradient(180deg, var(--bg1) 0%, var(--bg2) 100%);
      color: var(--text);
      margin: 0; padding: 0;
      overscroll-behavior: none;
    }
    #app-wrapper {
      max-width: 590px;
      margin: 1.2rem auto 1.2rem auto;
      padding: 1.3rem 0.5rem 2.1rem 0.5rem;
      border-radius: 2.6rem;
      box-shadow: var(--shadow);
      background: var(--card);
      display: flex; flex-direction: column; align-items: center;
      min-height: 98vh;
    }
    h1 {
      text-align: center;
      font-size: 2.2rem;
      color: var(--primary);
      margin-bottom: 1.2em;
      margin-top: 0.5em;
      font-weight: 900;
      letter-spacing: 0.01em;
    }
    .home-list {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1.4em 1em;
      margin: 1em 0 2em 0;
      padding: 0;
      width: 100%;
    }
    .game-card {
      background: #f1f9fd;
      border-radius: 1.7em;
      box-shadow: 0 2px 12px #e5f8ff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-width: 132px; min-height: 112px;
      max-width: 164px;
      flex: 1 1 42%;
      padding: 1em 0.4em 1em 0.4em;
      cursor: pointer;
      border: none;
      outline: none;
      transition: box-shadow 0.15s, background 0.12s;
      font-size: 1.12rem;
      font-weight: 700;
      color: var(--primary);
      gap: 0.4em;
    }
    .game-card:active, .game-card.selected, .game-card:focus {
      background: var(--tab-active);
      box-shadow: 0 4px 22px #bdeaff66;
      color: #1360a6;
      outline: 3px solid var(--primary);
    }
    .game-card .img-area {
      width: 56px; height: 56px;
      display: flex; align-items: center; justify-content: center;
      margin-bottom: 0.15em;
    }
    .game-content {
      width: 99%;
      min-height: 260px;
      max-width: 540px;
      margin: 0 auto 0.7em auto;
      border-radius: 1.5em;
      background: #f1f9fd;
      box-shadow: 0 2px 14px #e5f8ff;
      padding: 0.1em 0.1em 1em 0.1em;
      position: relative;
    }
    .topbar {
      display: flex; gap: 1.2em; align-items: center; justify-content: flex-start;
      padding: 0.3em 0.3em 0.2em 0.5em;
      margin-bottom: 0.6em;
    }
    .back-btn {
      background: none;
      border: none;
      color: var(--primary);
      font-size: 1.48rem;
      cursor: pointer;
      outline: none;
      margin-right: 0.3em;
      transition: color 0.16s;
      padding: 0.22em 0.33em 0.19em 0.33em;
      border-radius: 1.1em;
    }
    .back-btn:active, .back-btn:focus { background: var(--tab-active); color: #1360a6; }
    .game-title {
      font-size: 1.28rem;
      font-weight: 800;
      letter-spacing: 0.01em;
      color: var(--primary);
      flex: 1 1 auto;
      text-align: left;
    }
    .center-btn, .play-again-btn {
      margin: 1.1rem auto 0.2rem auto;
      padding: 1em 2.1em 1em 2.1em;
      border-radius: 2em;
      font-size: 1.11rem;
      font-weight: 700;
      background: linear-gradient(90deg,#21b3fd 20%,#6aebbf 100%);
      color: #fff;
      border: none;
      box-shadow: 0 2px 12px 0 rgba(33,179,253,0.13);
      cursor: pointer;
      outline: none;
      letter-spacing: 0.02em;
      display: flex; align-items: center; justify-content: center; gap: 0.5em;
      transition: background 0.19s, color 0.13s;
    }
    .option-btn, .shape-opt, .dot-btn, .memory-card {
      border-radius: 1.1em;
      font-size: 1.04rem;
      font-weight: 700;
      border: none;
      cursor: pointer;
      outline: none;
      margin: 0.22em;
      box-shadow: 0 2px 8px #e5f8ff;
      min-width: 46px; min-height: 46px;
      background: #fff;
      display: flex; align-items: center; justify-content: center;
      transition: background 0.13s, color 0.11s;
    }
    .option-btn.selected, .shape-opt.selected, .memory-card.selected { background: var(--accent); color: #fff; }
    .option-btn.correct, .shape-opt.correct, .memory-card.correct { background: var(--green); color: #fff; }
    .option-btn.incorrect, .shape-opt.incorrect, .memory-card.incorrect { background: var(--accent2); color: #fff; }
    .image-opt {
      background: #fff;
      box-shadow: 0 2px 8px #e5f8ff;
      border-radius: 1.1em;
      padding: 0.32em;
      cursor: pointer;
      margin: 0.33em;
      transition: border 0.15s;
      border: 2.3px solid #fff;
      min-width: 58px; min-height: 58px;
      display: flex; align-items: center; justify-content: center;
    }
    .image-opt.selected { border-color: var(--accent); }
    .image-opt.correct { border-color: var(--green); }
    .image-opt.incorrect { border-color: var(--accent2); opacity:0.55; }
    .celebrate {
      font-size: 1.58rem;
      font-weight: bold;
      color: var(--green);
      margin: 0.46em 0 0.19em 0;
      text-align: center;
      animation: pop-letter 0.7s cubic-bezier(.41,1.6,.56,1.14);
      text-shadow: 0 2px 12px #fff, 0 1px 8px #fff8;
    }
    @keyframes pop-letter {
      0% { transform: scale(0.6) rotate(-13deg);}
      70% { transform: scale(1.12) rotate(7deg);}
      100% { transform: scale(1.04) rotate(0deg);}
    }
    .confetti { position: fixed; left: 0; top: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 30; display: flex; align-items: center; justify-content: center; overflow: visible;}
    .confetti > div { position: absolute; will-change: transform, opacity; pointer-events: none; font-size: 1.3rem; text-shadow: 0 1.5px 0 #fff, 0 1px 8px #eee; filter: drop-shadow(0 1px 4px #fff);}
    @media (max-width: 700px) {
      #app-wrapper {padding:0.4rem 0.01rem 1rem 0.01rem;}
      .feedback-img {width:54px;height:54px;font-size:1.1rem;}
      .center-btn, .play-again-btn {font-size:0.97rem;}
      h1 {font-size:1.11rem;}
      .home-list {gap:1.08em 0.6em;}
      .game-card {min-width:110px;max-width:134px;font-size:0.97rem;}
    }
  </style>
</head>
<body>
<div id="app-wrapper" aria-label="Toddler Playground">
  <h1>
    Toddler Playground
    <div style="font-size:1.12rem;color:#888;letter-spacing:0.01em;font-weight:600;">12 Learning Games for Kids</div>
  </h1>
  <div id="main-content"></div>
  <div class="confetti" aria-hidden="true" style="display:none"></div>
</div>
<audio id="clickSound" preload="auto">
  <source src="https://cdn.pixabay.com/audio/2022/10/16/audio_125bfa7dfd.mp3" type="audio/mp3" />
</audio>
<audio id="cheerSound" preload="auto">
  <source src="https://cdn.pixabay.com/audio/2022/10/16/audio_125c09d2be.mp3" type="audio/mp3" />
</audio>
<script>
// --- Utility (SVG/Audio/Voice/Confetti) ---
const openmoji = code => `https://cdn.jsdelivr.net/gh/hfg-gmuend/openmoji@latest/color/svg/${code}.svg`;
const clickSound = document.getElementById('clickSound');
const cheerSound = document.getElementById('cheerSound');
const confettiDiv = document.querySelector('.confetti');
function playSound(audioElem) { try { audioElem.currentTime = 0; audioElem.play(); } catch{} }
function speak(text) {
  try {
    window.speechSynthesis.cancel();
    if (!text) return;
    const u = new window.SpeechSynthesisUtterance(text);
    u.rate = 1.04; u.pitch = 1.05; u.lang = 'en-US';
    window.speechSynthesis.speak(u);
  } catch{}
}
const confettiEmojis = ['🎉','🎈','🥳','👏','😃','✨','🎊','🧸','🍭','🦒','🐶','🐱'];
function showConfetti() {
  confettiDiv.style.display = "flex";
  confettiDiv.innerHTML = '';
  const colors = ['#fb6d6d', '#34e08c', '#f9b846', '#ad9aff', '#ff90b3', '#21b3fd'];
  const N = 16 + Math.floor(Math.random()*6);
  for (let i = 0; i < N; ++i) {
    const div = document.createElement('div');
    div.style.left = `${Math.random() * 100}%`;
    div.style.top = `${10+Math.random()*70}%`;
    div.style.fontSize = `${18 + Math.random() * 18}px`;
    div.style.color = colors[Math.floor(Math.random()*colors.length)];
    div.innerText = confettiEmojis[Math.floor(Math.random()*confettiEmojis.length)];
    confettiDiv.appendChild(div);
    setTimeout(() => {
      div.style.transform = `translateY(${120 + Math.random()*190}px) rotate(${Math.random()*360}deg)`;
      div.style.opacity = '0.0';
    }, 35 + i*18);
  }
  setTimeout(() => { confettiDiv.style.display="none"; }, 1200);
}

// ---- Data for games (OpenMoji images only, no emoji) ----
const alphabetData = [
  { letter: "A", word: "Apple", img: openmoji('1F34E') },
  { letter: "B", word: "Bear", img: openmoji('1F43B') },
  { letter: "C", word: "Cat", img: openmoji('1F431') },
  { letter: "D", word: "Dog", img: openmoji('1F436') },
  { letter: "E", word: "Elephant", img: openmoji('1F418') },
  { letter: "F", word: "Frog", img: openmoji('1F438') },
  { letter: "G", word: "Giraffe", img: openmoji('1F992') },
  { letter: "H", word: "House", img: openmoji('1F3E0') },
  { letter: "I", word: "Ice Cream", img: openmoji('1F366') },
  { letter: "J", word: "Jellyfish", img: openmoji('1FABC') },
  { letter: "K", word: "Kangaroo", img: openmoji('1F998') },
  { letter: "L", word: "Lion", img: openmoji('1F981') },
  { letter: "M", word: "Monkey", img: openmoji('1F412') },
  { letter: "N", word: "Nest", img: openmoji('1FAB9') },
  { letter: "O", word: "Octopus", img: openmoji('1F419') },
  { letter: "P", word: "Penguin", img: openmoji('1F427') },
  { letter: "Q", word: "Queen", img: openmoji('1F478') },
  { letter: "R", word: "Rabbit", img: openmoji('1F430') },
  { letter: "S", word: "Sun", img: openmoji('2600') },
  { letter: "T", word: "Tiger", img: openmoji('1F42F') },
  { letter: "U", word: "Umbrella", img: openmoji('2602') },
  { letter: "V", word: "Violin", img: openmoji('1F3BB') },
  { letter: "W", word: "Whale", img: openmoji('1F433') },
  { letter: "X", word: "Xylophone", img: openmoji('1FA97') },
  { letter: "Y", word: "Yacht", img: openmoji('26F5') },
  { letter: "Z", word: "Zebra", img: openmoji('1F993') }
];
const numberData = Array.from({length:10},(_,i)=>({num:i,img:openmoji(`003${i}-20E3`)}));
const colorItems = [
  { color:"red", name:"Apple", img:openmoji('1F34E'), alt:"Red Apple" },
  { color:"yellow", name:"Banana", img:openmoji('1F34C'), alt:"Yellow Banana" },
  { color:"green", name:"Frog", img:openmoji('1F438'), alt:"Green Frog" },
  { color:"blue", name:"Whale", img:openmoji('1F433'), alt:"Blue Whale" },
  { color:"orange", name:"Tiger", img:openmoji('1F42F'), alt:"Orange Tiger" }
];
const shapesList = [
  { name:"Circle", svg:'<svg width="54" height="54"><circle cx="27" cy="27" r="25" fill="#34e08c"/></svg>' },
  { name:"Square", svg:'<svg width="54" height="54"><rect x="6" y="6" width="42" height="42" rx="7" fill="#f9b846"/></svg>' },
  { name:"Triangle", svg:'<svg width="54" height="54"><polygon points="27,6 50,48 4,48" fill="#21b3fd"/></svg>' },
  { name:"Star", svg:'<svg width="54" height="54"><polygon points="27,6 33,28 50,28 37,38 41,50 27,43 13,50 17,38 4,28 21,28" fill="#fb6d6d"/></svg>' }
];

// ---- Game Registry ----
const GAMES = [
  { id: "typing", label: "Typing Game", img: openmoji('1F511'), desc: "Type or tap the letter to discover its animal.", render: renderTypingGame },
  { id: "matching", label: "Matching Game", img: openmoji('1F91D'), desc: "Match the letter with its animal.", render: renderMatchingGame },
  { id: "counting", label: "Counting Game", img: openmoji('1F522'), desc: "Count and choose the correct number.", render: renderCountingGame },
  { id: "color", label: "Color Picker", img: openmoji('1F308'), desc: "Pick the object of the correct color.", render: renderColorPickerGame },
  { id: "shape", label: "Shape Match", img: openmoji('25B1'), desc: "Find the right shape.", render: renderShapeMatchGame },
  { id: "oddone", label: "Odd One Out", img: openmoji('1F95C'), desc: "Find the different object.", render: renderOddOneGame },
  { id: "memory", label: "Memory Flip", img: openmoji('1F5FF'), desc: "Flip cards and find pairs.", render: renderMemoryGame },
  { id: "trace", label: "Trace the Line", img: openmoji('1F58C'), desc: "Connect the dots to trace.", render: renderTraceLineGame },
  { id: "dotshape", label: "Make a Shape", img: openmoji('2B1F'), desc: "Connect dots to make a shape.", render: renderDotShapeGame },
  { id: "sort", label: "Sort & Order", img: openmoji('1F4C2'), desc: "Sort objects into the right order.", render: renderSortGame },
  { id: "pattern", label: "Pattern Repeat", img: openmoji('1F39E'), desc: "Repeat the shown pattern.", render: renderPatternGame },
  { id: "sound", label: "Sound Guess", img: openmoji('1F50A'), desc: "Guess the object by its sound.", render: renderSoundGuessGame }
];

// ---- Navigation ----
const mainContent = document.getElementById('main-content');
let currentGame = null;
function showHome() {
  document.title = "Toddler Playground – 12 Learning Games";
  currentGame = null;
  mainContent.innerHTML = `
    <div class="home-list" role="list">
      ${GAMES.map(g=>
        `<button class="game-card" role="listitem" tabindex="0" data-game="${g.id}">
          <div class="img-area"><img src="${g.img}" alt="" width="48" height="48"></div>
          <div>${g.label}</div>
          <div style="font-size:0.85em;color:#888;font-weight:400;margin-top:0.3em;">${g.desc}</div>
        </button>`
      ).join('')}
    </div>
  `;
  Array.from(mainContent.querySelectorAll('.game-card')).forEach(btn=>{
    btn.addEventListener('click',()=>{
      const id = btn.getAttribute('data-game');
      showGame(id);
    });
    btn.addEventListener('keydown',e=>{
      if (e.key==="Enter"||e.key===" "||e.key==="Spacebar") {
        btn.click();
      }
    });
  });
}
function showGame(id) {
  const g = GAMES.find(g=>g.id===id);
  if (!g) return showHome();
  currentGame = g;
  document.title = `${g.label} – Toddler Playground`;
  mainContent.innerHTML = `
    <div class="topbar">
      <button class="back-btn" aria-label="Back to all games" tabindex="0">&larr;</button>
      <span class="game-title">${g.label}</span>
    </div>
    <div class="game-content" id="game-content"></div>
  `;
  mainContent.querySelector('.back-btn').onclick = showHome;
  g.render(mainContent.querySelector('#game-content'));
}
showHome();

// ==== ALL GAME FUNCTIONS BELOW ====
// (For brevity, posting 5 here. For the remaining 7, reply "continue" for code!)

// 1. Typing Game
function renderTypingGame(el) {
  const keySet = new Set([
    ...Array.from({length: 26}, (_, i) => String.fromCharCode(65 + i)),
    ...Array.from({length: 10}, (_, i) => String(i))
  ]);
  const keyOrder = [
    ..."ABCDEFGHIJKLMNOPQRSTUVWXYZ", "0","1","2","3","4","5","6","7","8","9"
  ];
  el.innerHTML = `
    <div class="progress-section">
      <div class="progress-dots"></div>
      <div class="progress-counter" aria-live="polite">0 / 36 keys discovered</div>
    </div>
    <section class="feedback" tabindex="0" aria-live="polite" aria-atomic="true">
      <div class="feedback-img" aria-label="Image for letter" style="display:none"></div>
      <div class="feedback-word" aria-label="Word"></div>
      <div class="feedback-number"></div>
      <div class="celebrate" style="display:none"></div>
    </section>
    <button class="center-btn play-again-btn" style="display:none" aria-label="Play again"><span>🔄</span> Play again!</button>
    <input id="hidden-input" type="text" maxlength="1" autocomplete="off" autocapitalize="characters" spellcheck="false" style="position:absolute;left:-9999px;">
  `;
  const progressDotsDiv = el.querySelector('.progress-dots');
  const progressCounter = el.querySelector('.progress-counter');
  const feedbackSection = el.querySelector('.feedback');
  const feedbackImg = el.querySelector('.feedback-img');
  const feedbackWord = el.querySelector('.feedback-word');
  const feedbackNumber = el.querySelector('.feedback-number');
  const playAgainBtn = el.querySelector('.play-again-btn');
  const celebrateDiv = el.querySelector('.celebrate');
  const hiddenInput = el.querySelector('#hidden-input');
  let discoveredKeys = new Set();
  function updateProgress() {
    progressDotsDiv.innerHTML = '';
    for (let key of keyOrder) {
      const dot = document.createElement('div');
      dot.className = 'progress-dot' + (discoveredKeys.has(key) ? ' found' : '');
      dot.innerText = key;
      dot.setAttribute('tabindex', '-1');
      dot.setAttribute('role','listitem');
      dot.setAttribute('aria-label', discoveredKeys.has(key) ? `${key}: found` : `${key}: not found`);
      progressDotsDiv.appendChild(dot);
    }
    const val = discoveredKeys.size;
    progressCounter.innerText = `${val} / 36 keys discovered`;
  }
  function showLetterFeedback(letter) {
    const data = alphabetData.find(d=>d.letter===letter) || {};
    feedbackImg.innerHTML = data.img
      ? `<img src="${data.img}" alt="${data.word||letter}" width="100" height="100" style="width:100%;height:100%;object-fit:contain;" loading="eager" />`
      : `<span style="font-size:2.5rem;">${letter}</span>`;
    feedbackImg.style.display = "";
    feedbackImg.classList.add('show');
    feedbackWord.innerText = data.word || "";
    feedbackNumber.innerText = '';
    celebrateDiv.style.display = "block";
    celebrateDiv.innerHTML = "Great job!";
    playSound(clickSound);
    playSound(cheerSound);
    speak(`${letter} for ${data.word}`);
    setTimeout(()=>celebrateDiv.style.display="none", 1300);
  }
  function showNumberFeedback(num) {
    feedbackImg.innerHTML = `<img src="${numberData[num].img}" alt="${num}" width="70" height="70" style="width:75%;height:75%;object-fit:contain;" loading="eager" />`;
    feedbackImg.style.display = "";
    feedbackImg.classList.add('show');
    feedbackWord.innerText = '';
    feedbackNumber.innerText = num;
    celebrateDiv.style.display = "block";
    celebrateDiv.innerHTML = "Great job!";
    playSound(clickSound);
    playSound(cheerSound);
    speak(`Number ${num}`);
    setTimeout(()=>celebrateDiv.style.display="none", 1300);
  }
  function clearFeedback() {
    feedbackImg.style.display = "none";
    feedbackImg.classList.remove('show');
    feedbackWord.innerText = '';
    feedbackNumber.innerText = '';
    celebrateDiv.style.display = "none";
  }
  function maybeShowPlayAgain() {
    if (discoveredKeys.size === 36) {
      setTimeout(() => {
        playAgainBtn.style.display = "flex";
        playAgainBtn.focus();
        showConfetti();
        playSound(cheerSound);
        speak("Wow! You found all! Let's play again.");
        celebrateDiv.innerHTML = "🎉🥳🎉 All discovered! 🎉🥳🎉";
        celebrateDiv.style.display = "block";
      }, 650);
    }
  }
  function onMobileInput(e) {
    const val = hiddenInput.value.toUpperCase();
    if (!val || !keySet.has(val)) {
      hiddenInput.value = '';
      speak("Try again!");
      return;
    }
    if (!discoveredKeys.has(val)) {
      discoveredKeys.add(val);
      updateProgress();
    }
    if (val >= "A" && val <= "Z") {
      showLetterFeedback(val);
    } else if (val >= "0" && val <= "9") {
      showNumberFeedback(val);
    }
    maybeShowPlayAgain();
    hiddenInput.value = '';
  }
  function onDesktopKey(e) {
    if (e.repeat) return;
    let key = e.key.toUpperCase();
    if (!keySet.has(key)) return;
    e.preventDefault();
    if (!discoveredKeys.has(key)) {
      discoveredKeys.add(key);
      updateProgress();
    }
    if (key >= "A" && key <= "Z") {
      showLetterFeedback(key);
    } else if (key >= "0" && key <= "9") {
      showNumberFeedback(key);
    }
    maybeShowPlayAgain();
  }
  function resetGame() {
    discoveredKeys.clear();
    updateProgress();
    clearFeedback();
    playAgainBtn.style.display = "none";
    if (/Android|iPhone|iPad|Mobile|Tablet|Silk|Opera Mini|webOS|IEMobile|BlackBerry|Windows Phone/i.test(navigator.userAgent)) {
      setTimeout(() => { hiddenInput.value = ''; hiddenInput.focus(); }, 200);
    } else {
      feedbackSection.focus();
    }
  }
  playAgainBtn.addEventListener('click', resetGame);
  feedbackSection.addEventListener('click', () => feedbackSection.focus());
  hiddenInput.addEventListener('input', onMobileInput);
  if (/Android|iPhone|iPad|Mobile|Tablet|Silk|Opera Mini|webOS|IEMobile|BlackBerry|Windows Phone/i.test(navigator.userAgent)) {
    setTimeout(() => { hiddenInput.value = ''; hiddenInput.focus(); }, 400);
  } else {
    document.addEventListener("keydown", onDesktopKey, { passive: false });
    hiddenInput.style.display = "none";
  }
  updateProgress();
  resetGame();
}

// 2. Matching Game
function renderMatchingGame(el) {
  let choices = alphabetData.slice().sort(()=>0.5-Math.random()).slice(0,6);
  let shuffled = choices.slice().sort(()=>0.5-Math.random());
  el.innerHTML = `
    <h2 style="text-align:center;font-size:1.1rem;font-weight:700;color:var(--primary);margin-bottom:0.35em;">
      Match the letter to its animal!
    </h2>
    <div class="match-drops" id="matchDrops" style="display:flex;flex-wrap:wrap;gap:1.1em;justify-content:center;">
      ${choices.map(d=>`
      <div class="match-drop" data-letter="${d.letter}" aria-label="Drop for ${d.word}" style="display:flex;flex-direction:column;align-items:center;">
        <img class="match-img" src="${d.img}" alt="${d.word}" style="width:68px;height:68px;"/>
        <div class="drop-label" style="font-size:0.98em;color:#888;">${d.word}</div>
      </div>
      `).join('')}
    </div>
    <div class="match-cards" id="matchCards" style="margin-top:1.1em;display:flex;flex-wrap:wrap;gap:0.7em;justify-content:center;">
      ${shuffled.map(d=>`
        <div class="match-card option-btn" draggable="true" data-letter="${d.letter}" aria-label="Drag letter ${d.letter}" style="width:54px;height:54px;align-items:center;justify-content:center;font-size:1.36em;">
          ${d.letter}
        </div>
      `).join('')}
    </div>
    <div id="match-feedback" style="margin-top:1em;font-size:1.22em;font-weight:700;text-align:center;"></div>
    <button id="match-reset" class="center-btn play-again-btn" style="display:none;margin-top:1.2em;"><span>🔄</span> Play again!</button>
  `;
  const drops = Array.from(el.querySelectorAll('.match-drop'));
  const cards = Array.from(el.querySelectorAll('.match-card'));
  const feedback = el.querySelector('#match-feedback');
  const resetBtn = el.querySelector('#match-reset');
  let matched = 0;
  let draggingCard = null;
  let selectedCard = null;
  // Drag-and-drop (desktop)
  cards.forEach(card => {
    card.addEventListener('dragstart', e=>{
      draggingCard = card; card.classList.add('dragging');
    });
    card.addEventListener('dragend', e=>{
      draggingCard = null; card.classList.remove('dragging');
    });
  });
  drops.forEach(drop => {
    drop.addEventListener('dragover', e => { e.preventDefault(); });
    drop.addEventListener('drop', e => {
      if (!draggingCard) return;
      matchAttempt(draggingCard, drop);
      draggingCard.classList.remove('dragging');
      draggingCard = null;
    });
  });
  // Tap-tap matching for mobile/tablet
  cards.forEach(card => {
    card.addEventListener('click', function() {
      if (card.style.visibility === 'hidden') return;
      cards.forEach(c => c.classList.remove('selected'));
      card.classList.add('selected');
      selectedCard = card;
    });
  });
  drops.forEach(drop => {
    drop.addEventListener('click', function() {
      if (!selectedCard || selectedCard.style.visibility === 'hidden') return;
      matchAttempt(selectedCard, drop);
      selectedCard.classList.remove('selected');
      selectedCard = null;
    });
  });
  function matchAttempt(card, drop) {
    if (drop.classList.contains('matched')) return;
    const letter = card.dataset.letter;
    const word = alphabetData.find(d=>d.letter===letter)?.word || "";
    if (drop.dataset.letter === letter) {
      drop.classList.add('matched');
      card.style.visibility = 'hidden';
      matched++;
      feedback.innerHTML = `<span class="celebrate">Well done!</span>`;
      playSound(cheerSound);
      showConfetti();
      speak(`You are right! ${letter} for ${word}`);
      if (matched === choices.length) {
        setTimeout(()=>{feedback.innerHTML = `<span class="celebrate">🎉 You matched all! 🎉</span>`; playSound(cheerSound); resetBtn.style.display="flex";},700);
      }
    } else {
      feedback.innerHTML = `<span style="color:#fb6d6d;font-size:1em;">Try again!</span>`;
      speak("Try again!");
      playSound(clickSound);
    }
  }
  resetBtn.addEventListener('click',()=>renderMatchingGame(el));
}

// 3. Counting Game
function renderCountingGame(el) {
  const objects = [
    { word:"Apple", img:openmoji('1F34E'), plural: "apples" },
    { word:"Frog", img:openmoji('1F438'), plural: "frogs" },
    { word:"Penguin", img:openmoji('1F427'), plural: "penguins" },
    { word:"Ice Cream", img:openmoji('1F366'), plural: "ice creams" },
    { word:"Dog", img:openmoji('1F436'), plural: "dogs" }
  ];
  const obj = objects[Math.floor(Math.random()*objects.length)];
  const correct = 2 + Math.floor(Math.random()*6);
  let arr = Array.from({length:correct});
  let options = [correct];
  while (options.length < 3) {
    let r = 2 + Math.floor(Math.random()*6);
    if (!options.includes(r)) options.push(r);
  }
  options = options.sort(()=>0.5-Math.random());
  el.innerHTML = `
    <h2 class="counting-q">${obj.word}s! How many?</h2>
    <div class="counting-objects" style="display:flex;justify-content:center;gap:1.1em;margin-bottom:0.8em;">
      ${arr.map(()=>`<img src="${obj.img}" alt="${obj.word}" draggable="false" style="width:62px;height:62px;" />`).join('')}
    </div>
    <div class="counting-options" style="display:flex;justify-content:center;gap:1.3em;">
      ${options.map(opt=>`<div class="option-btn" data-val="${opt}" style="width:52px;height:52px;font-size:1.33em;">${opt}</div>`).join('')}
    </div>
    <div id="count-feedback" style="margin-top:0.7em;font-size:1.16em;font-weight:700;text-align:center;"></div>
    <button id="count-reset" class="center-btn play-again-btn" style="display:none;margin-top:1em;"><span>🔄</span> Play again!</button>
  `;
  const countOpts = Array.from(el.querySelectorAll('.option-btn[data-val]'));
  const feedback = el.querySelector('#count-feedback');
  const resetBtn = el.querySelector('#count-reset');
  let finished = false;
  speak(`How many ${obj.plural}?`);
  countOpts.forEach(opt => {
    opt.addEventListener('click',()=>{
      if (finished || opt.classList.contains('correct') || opt.classList.contains('incorrect')) return;
      if (parseInt(opt.dataset.val,10) === correct) {
        opt.classList.add('correct');
        feedback.innerHTML = `<span class="celebrate">Great counting!</span>`;
        playSound(cheerSound);
        speak(`Yes, there are ${correct} ${obj.plural}!`);
        showConfetti();
        countOpts.forEach(o=>o.style.pointerEvents="none");
        finished = true;
        setTimeout(()=>{feedback.innerHTML = `<span class="celebrate">🎉 You counted all! 🎉</span>`; playSound(cheerSound); resetBtn.style.display="flex";},700);
      } else {
        opt.classList.add('incorrect');
        feedback.innerHTML = `<span style="color:#fb6d6d;font-size:1em;">Try again!</span>`;
        speak("Try again!");
        playSound(clickSound);
        opt.style.pointerEvents = "none"; // disable only the wrong option
      }
    });
  });
  resetBtn.addEventListener('click',()=>renderCountingGame(el));
}

// 4. Color Picker Game
function renderColorPickerGame(el) {
  let shuffled = colorItems.slice().sort(()=>0.5-Math.random());
  const target = shuffled[Math.floor(Math.random()*shuffled.length)];
  el.innerHTML = `
    <h2 style="text-align:center;font-size:1.1rem;font-weight:700;color:var(--primary);margin-bottom:0.35em;">
      Pick the <span style="color:${target.color}">${target.color}</span> ${target.name}!
    </h2>
    <div style="display:flex;justify-content:center;gap:1.2em;">
      ${shuffled.map((item,i)=>`<div class="image-opt" data-idx="${i}"><img src="${item.img}" alt="${item.alt}" style="width:68px;height:68px;" /></div>`).join('')}
    </div>
    <div id="color-feedback" style="margin-top:0.7em;font-size:1.16em;font-weight:700;text-align:center;"></div>
    <button id="color-reset" class="center-btn play-again-btn" style="display:none;margin-top:1em;"><span>🔄</span> Play again!</button>
  `;
  const opts = Array.from(el.querySelectorAll('.image-opt[data-idx]'));
  const feedback = el.querySelector('#color-feedback');
  const resetBtn = el.querySelector('#color-reset');
  let finished = false;
  speak(`Can you find the ${target.color} ${target.name}?`);
  opts.forEach((opt, idx) => {
    opt.addEventListener('click',()=>{
      if (finished) return;
      if (shuffled[idx] === target) {
        opt.classList.add('correct');
        feedback.innerHTML = `<span class="celebrate">Great job! That's the ${target.color} ${target.name}!</span>`;
        playSound(cheerSound);
        speak(`You are right! That is the ${target.color} ${target.name}!`);
        showConfetti();
        finished = true;
        setTimeout(()=>{feedback.innerHTML = `<span class="celebrate">🎉 You found it! 🎉</span>`; playSound(cheerSound); resetBtn.style.display="flex";},700);
      } else {
        opt.classList.add('incorrect');
        feedback.innerHTML = `<span style="color:#fb6d6d;font-size:1em;">Try again!</span>`;
        speak("Try again!");
        playSound(clickSound);
      }
    });
  });
  resetBtn.addEventListener('click',()=>renderColorPickerGame(el));
}

// 5. Shape Match Game
function renderShapeMatchGame(el) {
  const options = shapesList.slice().sort(()=>0.5-Math.random()).slice(0,3);
  const target = options[Math.floor(Math.random()*options.length)];
  el.innerHTML = `
    <h2 style="text-align:center;font-size:1.1rem;font-weight:700;color:var(--primary);margin-bottom:0.35em;">
      Which one is a <b>${target.name}</b>?
    </h2>
    <div style="display:flex;justify-content:center;gap:1.6em;margin-bottom:1em;">
      ${options.map((shape,i)=>`<div class="shape-opt" data-idx="${i}" style="width:72px;height:72px;">${shape.svg}</div>`).join('')}
    </div>
    <div id="shape-feedback" style="margin-top:0.7em;font-size:1.16em;font-weight:700;text-align:center;"></div>
    <button id="shape-reset" class="center-btn play-again-btn" style="display:none;margin-top:1em;"><span>🔄</span> Play again!</button>
  `;
  const opts = Array.from(el.querySelectorAll('.shape-opt[data-idx]'));
  const feedback = el.querySelector('#shape-feedback');
  const resetBtn = el.querySelector('#shape-reset');
  let finished = false;
  speak(`Which one is a ${target.name}?`);
  opts.forEach((opt, idx) => {
    opt.addEventListener('click',()=>{
      if (finished) return;
      if (options[idx] === target) {
        opt.classList.add('correct');
        feedback.innerHTML = `<span class="celebrate">That's correct! This is a ${target.name}!</span>`;
        playSound(cheerSound);
        speak(`You are right! This is a ${target.name}!`);
        showConfetti();
        finished = true;
        setTimeout(()=>{feedback.innerHTML = `<span class="celebrate">🎉 You matched it! 🎉</span>`; playSound(cheerSound); resetBtn.style.display="flex";},700);
      } else {
        opt.classList.add('incorrect');
        feedback.innerHTML = `<span style="color:#fb6d6d;font-size:1em;">Try again!</span>`;
        speak("Try again!");
        playSound(clickSound);
      }
    });
  });
  resetBtn.addEventListener('click',()=>renderShapeMatchGame(el));
}

// 6. Odd One Out
function renderOddOneGame(el) {
  // Pick 1 odd, 3 same
  const all = [
    { word:"Dog", img:openmoji('1F436') },
    { word:"Apple", img:openmoji('1F34E') },
    { word:"Frog", img:openmoji('1F438') },
    { word:"Penguin", img:openmoji('1F427') },
    { word:"Ice Cream", img:openmoji('1F366') },
    { word:"Lion", img:openmoji('1F981') }
  ];
  let main = all[Math.floor(Math.random()*all.length)];
  let odd;
  do { odd = all[Math.floor(Math.random()*all.length)]; } while (odd.word === main.word);
  let objs = [main, main, main, odd].sort(()=>0.5-Math.random());
  el.innerHTML = `
    <h2 style="text-align:center;font-size:1.1rem;font-weight:700;color:var(--primary);margin-bottom:0.35em;">
      Find the odd one out!
    </h2>
    <div style="display:flex;justify-content:center;gap:1.3em;">
      ${objs.map((item,i)=>`<div class="image-opt" data-idx="${i}"><img src="${item.img}" alt="${item.word}" style="width:68px;height:68px;" /></div>`).join('')}
    </div>
    <div id="odd-feedback" style="margin-top:0.8em;font-size:1.15em;font-weight:700;text-align:center;"></div>
    <button id="odd-reset" class="center-btn play-again-btn" style="display:none;margin-top:1em;">🔄 Play again!</button>
  `;
  const opts = Array.from(el.querySelectorAll('.image-opt[data-idx]'));
  const feedback = el.querySelector('#odd-feedback');
  const resetBtn = el.querySelector('#odd-reset');
  let finished = false;
  speak(`Which one is different?`);
  opts.forEach((opt, idx) => {
    opt.addEventListener('click',()=>{
      if (finished) return;
      if (objs[idx] === odd) {
        opt.classList.add('correct');
        feedback.innerHTML = `<span class="celebrate">That's correct! ${odd.word} is different.</span>`;
        playSound(cheerSound);
        speak(`Yes! The ${odd.word} is different!`);
        showConfetti();
        finished = true;
        setTimeout(()=>{feedback.innerHTML = `<span class="celebrate">🎉 Well done! 🎉</span>`; playSound(cheerSound); resetBtn.style.display="flex";},700);
      } else {
        opt.classList.add('incorrect');
        feedback.innerHTML = `<span style="color:#fb6d6d;font-size:1em;">Try again!</span>`;
        speak("Try again!");
        playSound(clickSound);
      }
    });
  });
  resetBtn.addEventListener('click',()=>renderOddOneGame(el));
}

// 7. Memory Flip Game
function renderMemoryGame(el) {
  // 4 pairs, 8 cards
  const pool = [
    { img:openmoji('1F43B'), word:"Bear" },
    { img:openmoji('1F436'), word:"Dog" },
    { img:openmoji('1F430'), word:"Rabbit" },
    { img:openmoji('1F34E'), word:"Apple" },
    { img:openmoji('1F981'), word:"Lion" },
    { img:openmoji('1F438'), word:"Frog" },
    { img:openmoji('1F427'), word:"Penguin" },
    { img:openmoji('1F366'), word:"Ice Cream" }
  ];
  let items = pool.sort(()=>0.5-Math.random()).slice(0,4);
  let cards = items.concat(items).sort(()=>0.5-Math.random()).map(obj => ({...obj, revealed:false, matched:false}));
  el.innerHTML = `
    <h2 style="text-align:center;font-size:1.1rem;font-weight:700;color:var(--primary);margin-bottom:0.3em;">
      Flip cards to find matching pairs!
    </h2>
    <div class="memory-board" style="display:flex;flex-wrap:wrap;gap:0.7em;justify-content:center;"></div>
    <div id="memory-feedback" style="margin-top:0.7em;font-size:1.11em;font-weight:700;text-align:center;"></div>
    <button id="memory-reset" class="center-btn play-again-btn" style="display:none;margin-top:1em;">🔄 Play again!</button>
  `;
  const board = el.querySelector('.memory-board');
  const feedback = el.querySelector('#memory-feedback');
  const resetBtn = el.querySelector('#memory-reset');
  let flipped = [], matched = 0, lock = false;
  function update() {
    board.innerHTML = '';
    cards.forEach((card, idx) => {
      let btn = document.createElement('div');
      btn.className = 'memory-card option-btn' + (card.revealed || card.matched ? ' revealed' : '');
      btn.setAttribute('tabindex','0');
      btn.innerHTML = (card.revealed || card.matched)
        ? `<img src="${card.img}" alt="${card.word}" style="width:48px;height:48px;" />`
        : '';
      btn.addEventListener('click', () => flipCard(idx));
      btn.addEventListener('keydown',e=>{if(e.key==='Enter'||e.key===' ') flipCard(idx)});
      board.appendChild(btn);
    });
  }
  function flipCard(idx) {
    if (lock || cards[idx].revealed || cards[idx].matched) return;
    cards[idx].revealed = true;
    flipped.push(idx);
    update();
    playSound(clickSound);
    if (flipped.length === 2) {
      lock = true;
      let a = cards[flipped[0]], b = cards[flipped[1]];
      if (a.word === b.word) {
        cards[flipped[0]].matched = cards[flipped[1]].matched = true;
        matched++;
        feedback.innerHTML = `<span class="celebrate">Pair found: ${a.word}!</span>`;
        speak(`You found a pair of ${a.word}s!`);
        playSound(cheerSound);
        showConfetti();
        setTimeout(()=>{
          flipped = [];
          lock = false;
          update();
          if (matched === 4) {
            feedback.innerHTML = `<span class="celebrate">🎉 All pairs found! 🎉</span>`;
            playSound(cheerSound); resetBtn.style.display="flex";
          }
        },900);
      } else {
        feedback.innerHTML = `<span style="color:#fb6d6d;font-size:1em;">Not a match! Try again.</span>`;
        speak("Try again!");
        setTimeout(()=>{
          cards[flipped[0]].revealed = cards[flipped[1]].revealed = false;
          flipped = [];
          lock = false;
          update();
        }, 1000);
      }
    }
  }
  resetBtn.addEventListener('click',()=>renderMemoryGame(el));
  update();
}

// 8. Trace the Line (connect-the-dots in order)
function renderTraceLineGame(el) {
  // Simple zigzag
  const points = [
    {x:50,y:30}, {x:120,y:90}, {x:200,y:30}, {x:280,y:100}
  ];
  el.innerHTML = `
    <h2 style="text-align:center;font-size:1.1rem;font-weight:700;color:var(--primary);margin-bottom:0.3em;">
      Tap the dots in order to trace the line!
    </h2>
    <div class="dots-canvas" style="width:320px;height:140px;position:relative;margin:0 auto;">
      <svg class="line-svg" width="320" height="140"></svg>
      ${points.map((pt,i)=>`<div class="dot dot-btn" data-idx="${i}" style="left:${pt.x}px;top:${pt.y}px;">${i+1}</div>`).join('')}
    </div>
    <div id="trace-feedback" style="margin-top:0.8em;font-size:1.13em;font-weight:700;text-align:center;"></div>
    <button id="trace-reset" class="center-btn play-again-btn" style="display:none;margin-top:1em;">🔄 Play again!</button>
  `;
  const dots = Array.from(el.querySelectorAll('.dot-btn'));
  const svg = el.querySelector('.line-svg');
  const feedback = el.querySelector('#trace-feedback');
  const resetBtn = el.querySelector('#trace-reset');
  let traced = [];
  let finished = false;
  speak("Tap the dots in order!");
  function updateSVG() {
    svg.innerHTML = '';
    for (let i=1; i<traced.length; ++i) {
      svg.innerHTML += `<line x1="${points[traced[i-1]].x}" y1="${points[traced[i-1]].y}" x2="${points[traced[i]].x}" y2="${points[traced[i]].y}" stroke="#21b3fd" stroke-width="5" stroke-linecap="round" />`;
    }
  }
  dots.forEach(dot=>{
    dot.addEventListener('click',()=>{
      if (finished) return;
      const idx = parseInt(dot.dataset.idx,10);
      if (traced.length===idx) {
        traced.push(idx);
        dot.classList.add('correct','active');
        playSound(clickSound);
        updateSVG();
        if (traced.length===points.length) {
          feedback.innerHTML = `<span class="celebrate">Great tracing!</span>`;
          playSound(cheerSound);
          speak("Well done! You traced the line.");
          showConfetti();
          finished = true;
          setTimeout(()=>{resetBtn.style.display="flex";},600);
        }
      } else {
        feedback.innerHTML = `<span style="color:#fb6d6d;font-size:1em;">Try again! Start from the next dot.</span>`;
        speak("Try again!");
        playSound(clickSound);
      }
    });
  });
  resetBtn.addEventListener('click',()=>renderTraceLineGame(el));
}

// 9. Make a Shape (connect dots to make triangle/square)
function renderDotShapeGame(el) {
  // Make triangle
  const shapes = [
    {
      name: "Triangle",
      pts: [{x:70,y:120},{x:160,y:40},{x:250,y:120}],
      lines: [[0,1],[1,2],[2,0]]
    },
    {
      name: "Square",
      pts: [{x:70,y:70},{x:70,y:170},{x:170,y:170},{x:170,y:70}],
      lines: [[0,1],[1,2],[2,3],[3,0]]
    }
  ];
  const shape = shapes[Math.floor(Math.random()*shapes.length)];
  el.innerHTML = `
    <h2 style="text-align:center;font-size:1.1rem;font-weight:700;color:var(--primary);margin-bottom:0.3em;">
      Connect the dots to make a ${shape.name}!
    </h2>
    <div class="dots-canvas" style="width:320px;height:220px;position:relative;margin:0 auto;">
      <svg class="line-svg" width="320" height="220"></svg>
      ${shape.pts.map((pt,i)=>`<div class="dot dot-btn" data-idx="${i}" style="left:${pt.x}px;top:${pt.y}px;">${i+1}</div>`).join('')}
    </div>
    <div id="dotshape-feedback" style="margin-top:0.8em;font-size:1.13em;font-weight:700;text-align:center;"></div>
    <button id="dotshape-reset" class="center-btn play-again-btn" style="display:none;margin-top:1em;">🔄 Play again!</button>
  `;
  const dots = Array.from(el.querySelectorAll('.dot-btn'));
  const svg = el.querySelector('.line-svg');
  const feedback = el.querySelector('#dotshape-feedback');
  const resetBtn = el.querySelector('#dotshape-reset');
  let seq = [];
  let finished = false;
  speak(`Connect the dots to make a ${shape.name}!`);
  function updateSVG() {
    svg.innerHTML = '';
    for (let i=1; i<seq.length; ++i) {
      svg.innerHTML += `<line x1="${shape.pts[seq[i-1]].x}" y1="${shape.pts[seq[i-1]].y}" x2="${shape.pts[seq[i]].x}" y2="${shape.pts[seq[i]].y}" stroke="#21b3fd" stroke-width="5" stroke-linecap="round" />`;
    }
  }
  dots.forEach(dot=>{
    dot.addEventListener('click',()=>{
      if (finished) return;
      const idx = parseInt(dot.dataset.idx,10);
      if (seq.length===0 || (seq.length<shape.lines.length && shape.lines[seq.length][0]===seq[seq.length-1] && shape.lines[seq.length][1]===idx)) {
        seq.push(idx);
        dot.classList.add('correct','active');
        playSound(clickSound);
        updateSVG();
        if (seq.length===shape.lines.length+1) {
          feedback.innerHTML = `<span class="celebrate">You made a ${shape.name}!</span>`;
          playSound(cheerSound);
          speak(`Great! You made a ${shape.name}!`);
          showConfetti();
          finished = true;
          setTimeout(()=>{resetBtn.style.display="flex";},700);
        }
      } else {
        feedback.innerHTML = `<span style="color:#fb6d6d;font-size:1em;">Try the next dot in the correct order.</span>`;
        speak("Try again!");
        playSound(clickSound);
      }
    });
  });
  resetBtn.addEventListener('click',()=>renderDotShapeGame(el));
}

// 10. Sort & Order (numbers or size)
function renderSortGame(el) {
  // Sort animals by size: small–large
  const pool = [
    { word:"Frog", img:openmoji('1F438'), size:1 },
    { word:"Dog", img:openmoji('1F436'), size:2 },
    { word:"Lion", img:openmoji('1F981'), size:3 }
  ];
  let items = pool.sort(()=>0.5-Math.random());
  el.innerHTML = `
    <h2 style="text-align:center;font-size:1.1rem;font-weight:700;color:var(--primary);margin-bottom:0.3em;">
      Drag the animals to order from smallest to largest!
    </h2>
    <div class="sort-area" style="display:flex;gap:1em;justify-content:center;">
      ${items.map((item,i)=>`<div class="sort-card image-opt" data-idx="${i}" draggable="true" style="width:68px;height:68px;">
        <img src="${item.img}" alt="${item.word}" style="width:68px;height:68px;pointer-events:none;" />
        <div style="font-size:0.85em;color:#888;">${item.word}</div>
      </div>`).join('')}
    </div>
    <button id="sort-check" class="center-btn" style="margin-top:1.2em;">Check!</button>
    <div id="sort-feedback" style="margin-top:0.8em;font-size:1.13em;font-weight:700;text-align:center;"></div>
    <button id="sort-reset" class="center-btn play-again-btn" style="display:none;margin-top:1em;">🔄 Play again!</button>
  `;
  const area = el.querySelector('.sort-area');
  const cards = Array.from(area.querySelectorAll('.sort-card'));
  const checkBtn = el.querySelector('#sort-check');
  const feedback = el.querySelector('#sort-feedback');
  const resetBtn = el.querySelector('#sort-reset');
  let finished = false;
  speak("Order the animals from smallest to largest!");
  // Drag to reorder
  cards.forEach((card, i) => {
    card.setAttribute('draggable', 'true');
    card.addEventListener('dragstart', function(e) {
      e.dataTransfer.setData('idx', i);
      setTimeout(()=>card.style.opacity='0.5',0);
    });
    card.addEventListener('dragend', function() {
      card.style.opacity='1.0';
    });
  });
  area.addEventListener('dragover', function(e) { e.preventDefault(); });
  area.addEventListener('drop', function(e) {
    const from = parseInt(e.dataTransfer.getData('idx'),10);
    let to = Array.from(area.children).indexOf(e.target.closest('.sort-card'));
    if (from===to || from<0 || to<0) return;
    area.insertBefore(area.children[from], area.children[to]);
    playSound(clickSound);
  });
  checkBtn.addEventListener('click',()=>{
    if (finished) return;
    const arr = Array.from(area.children).map((card)=>pool.find(x=>x.word===card.querySelector('div').innerText));
    if (arr[0].size < arr[1].size && arr[1].size < arr[2].size) {
      feedback.innerHTML = `<span class="celebrate">Great sorting!</span>`;
      playSound(cheerSound); speak("You are right! Smallest to largest.");
      showConfetti();
      finished = true;
      setTimeout(()=>{resetBtn.style.display="flex";},700);
    } else {
      feedback.innerHTML = `<span style="color:#fb6d6d;font-size:1em;">Try again! Drag to reorder.</span>`;
      speak("Try again!");
      playSound(clickSound);
    }
  });
  resetBtn.addEventListener('click',()=>renderSortGame(el));
}

// 11. Pattern Repeat (Simon)
function renderPatternGame(el) {
  const pool = [
    { img:openmoji('1F438'), word:"Frog" },
    { img:openmoji('1F34E'), word:"Apple" },
    { img:openmoji('1F981'), word:"Lion" }
  ];
  let pattern = Array.from({length:3+Math.floor(Math.random()*2)},()=>pool[Math.floor(Math.random()*pool.length)]);
  el.innerHTML = `
    <h2 style="text-align:center;font-size:1.1rem;font-weight:700;color:var(--primary);margin-bottom:0.3em;">
      Repeat the pattern!
    </h2>
    <div class="pattern-row" style="display:flex;justify-content:center;gap:0.8em;margin-bottom:0.6em;">
      ${pattern.map(item=>`<img src="${item.img}" alt="${item.word}" style="width:44px;height:44px;" />`).join('')}
    </div>
    <div class="pattern-input" style="display:flex;justify-content:center;gap:0.8em;">
      ${pool.map((item,i)=>`<div class="image-opt" data-idx="${i}"><img src="${item.img}" alt="${item.word}" style="width:54px;height:54px;" /></div>`).join('')}
    </div>
    <button id="pattern-done" class="center-btn" style="margin-top:1.1em;">Done!</button>
    <div id="pattern-feedback" style="margin-top:0.7em;font-size:1.11em;font-weight:700;text-align:center;"></div>
    <button id="pattern-reset" class="center-btn play-again-btn" style="display:none;margin-top:1em;">🔄 Play again!</button>
  `;
  const input = [];
  const opts = Array.from(el.querySelectorAll('.image-opt[data-idx]'));
  const doneBtn = el.querySelector('#pattern-done');
  const feedback = el.querySelector('#pattern-feedback');
  const resetBtn = el.querySelector('#pattern-reset');
  let finished = false;
  speak("Watch and repeat the pattern!");
  opts.forEach((opt, idx) => {
    opt.addEventListener('click',()=>{
      if (finished) return;
      input.push(pool[idx]);
      playSound(clickSound);
      if (input.length===pattern.length) doneBtn.focus();
    });
  });
  doneBtn.addEventListener('click',()=>{
    if (finished) return;
    let correct = pattern.every((x,i)=>input[i]&&x.word===input[i].word);
    if (correct) {
      feedback.innerHTML = `<span class="celebrate">Pattern matched!</span>`;
      playSound(cheerSound);
      speak("Well done! You matched the pattern!");
      showConfetti();
      finished = true;
      setTimeout(()=>{resetBtn.style.display="flex";},700);
    } else {
      feedback.innerHTML = `<span style="color:#fb6d6d;font-size:1em;">Try again!</span>`;
      speak("Try again!");
      playSound(clickSound);
    }
  });
  resetBtn.addEventListener('click',()=>renderPatternGame(el));
}

// 12. Sound Guess Game
function renderSoundGuessGame(el) {
  // Show 3 animals, play a sound, pick correct
  const pool = [
    { img:openmoji('1F981'), word:"Lion", sound:"Lion" },
    { img:openmoji('1F436'), word:"Dog", sound:"Dog" },
    { img:openmoji('1F438'), word:"Frog", sound:"Frog" },
    { img:openmoji('1F427'), word:"Penguin", sound:"Penguin" }
  ];
  let choices = pool.sort(()=>0.5-Math.random()).slice(0,3);
  let answer = choices[Math.floor(Math.random()*choices.length)];
  el.innerHTML = `
    <h2 style="text-align:center;font-size:1.1rem;font-weight:700;color:var(--primary);margin-bottom:0.3em;">
      Which animal makes this sound?
    </h2>
    <button id="sound-play" class="center-btn" style="margin-bottom:1em;">🔊 Play Sound</button>
    <div style="display:flex;justify-content:center;gap:1.1em;">
      ${choices.map((item,i)=>`<div class="image-opt" data-idx="${i}"><img src="${item.img}" alt="${item.word}" style="width:68px;height:68px;" /></div>`).join('')}
    </div>
    <div id="sound-feedback" style="margin-top:0.8em;font-size:1.13em;font-weight:700;text-align:center;"></div>
    <button id="sound-reset" class="center-btn play-again-btn" style="display:none;margin-top:1em;">🔄 Play again!</button>
  `;
  const btn = el.querySelector('#sound-play');
  const opts = Array.from(el.querySelectorAll('.image-opt[data-idx]'));
  const feedback = el.querySelector('#sound-feedback');
  const resetBtn = el.querySelector('#sound-reset');
  let finished = false;
  function playAnimalSound() {
    speak(answer.sound + " sound!");
  }
  btn.addEventListener('click', playAnimalSound);
  opts.forEach((opt, idx) => {
    opt.addEventListener('click',()=>{
      if (finished) return;
      if (choices[idx] === answer) {
        opt.classList.add('correct');
        feedback.innerHTML = `<span class="celebrate">Yes, it's a ${answer.word}!</span>`;
        playSound(cheerSound);
        speak(`You are right! That is the ${answer.word}!`);
        showConfetti();
        finished = true;
        setTimeout(()=>{feedback.innerHTML = `<span class="celebrate">🎉 Well done! 🎉</span>`; playSound(cheerSound); resetBtn.style.display="flex";},700);
      } else {
        opt.classList.add('incorrect');
        feedback.innerHTML = `<span style="color:#fb6d6d;font-size:1em;">Try again!</span>`;
        speak("Try again!");
        playSound(clickSound);
      }
    });
  });
  resetBtn.addEventListener('click',()=>renderSoundGuessGame(el));
}


</script>
<!--
==== README ====
Toddler Playground – 12 Games!
- Landing page lists all games (SVG, no emoji), tap/click to play.
- Fully mobile/tablet/desktop friendly, SEO-optimized, clean design.
- Accessible, voice and sound feedback in every game, OpenMoji (CC BY-SA 4.0) images only.
- MIT License. Copy, save as .html, open in any browser.
-->
</body>
</html>
